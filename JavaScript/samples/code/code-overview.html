<!DOCTYPE html>
<html dir="ltr" lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0">
        <title>IntegralUI Web - Code / Overview</title>
        <link rel="stylesheet" href="../../index.css" />
        <style type="text/css">
            .editor {
                display: inline-flex;
                gap: 10px;
                font-family: monospace;
                line-height: 21px;
                background: #282a3a;
                border-radius: 2px;
                padding: 20px 10px;
            }

            .line-numbers {
                width: 20px;
                text-align: right;
            }

            .line-numbers span {
                counter-increment:  linenumber;
            }
            .line-numbers span:nth-child(odd) {
                background: red;
            }
            .line-numbers span::before {
                content: counter(linenumber);
                display: block;
                color: #506882;
            }

            textarea {
                line-height: 21px;
                overflow-y: hidden;
                padding: 0;
                border: 0;
                background: #282a3a;
                color: #FFF;
                min-width: 500px;
                outline: none;
                resize: none;
            }
        </style>
    </head>
    <body>
        <div class="editor">
            <div class="line-numbers">
                <span></span>
            </div>
            <textarea>textarea.addEventListener('keyup', event => {
    const numberOfLines = event.target.value.split('\n').length

    lineNumbers.innerHTML = Array(numberOfLines)
    .fill('<span></span>')
    .join('')
})
            </textarea>
        </div>
    </body>
    <script type="module">
        const textarea = document.querySelector('textarea')
        const lineNumbers = document.querySelector('.line-numbers')
    
        textarea.addEventListener('keyup', event => {
            const numberOfLines = event.target.value.split('\n').length
    
            lineNumbers.innerHTML = Array(numberOfLines)
            .fill('<span></span>')
            .join('')
        })
    
        textarea.addEventListener('keydown', event => {
            if (event.key === 'Tab') {
            const start = textarea.selectionStart
            const end = textarea.selectionEnd
    
            textarea.value = textarea.value.substring(0, start) + '\t' + textarea.value.substring(end)
    
            event.preventDefault()
            }
        })
    </script>
</html>
